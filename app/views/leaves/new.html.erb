
<h1>Leave Form</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
<%= form_for @leave do |f| %>
	<div id='form_id'>
		<%= f.label :from_date %>
		<%= f.text_field :from_date, class: 'datepicker', id: 'first' %>
	    <%= f.label :to_date %>
	    <%= f.text_field :to_date, class: 'datepicker', id: 'second' %>
	    <br/>
	    <%= f.label :no_of_days %>
	    <%= f.text_field :no_of_days,  id: 'btn' %>
	    <%= content_tag :div do %>
     	<%= f.label :type_of_leave %>
      	<%= f.select :type_of_leave, ["Sick Leave", "Planned Leave" ,"Casual Leave"],:prompt=>"select", id: "dropdown" %>
      	<% end %>
        <%= f.label :reason %>
	    <%= f.text_field :reason %>
	    
	    <%= f.submit "Save", class: "btn btn-primary" %>
	</div>
<% end %>
</div>
</div>

<script type="text/javascript">
$(document).ready( function() {
  $('.datepicker').datepicker({
  	
  });

$("#btn").mouseenter(function(){
	var a = (daydiff(parseDate($('#first').val()), parseDate($('#second').val())));
	$("#btn").val(a);
}); 
    
    function parseDate(str) {
    var mdy = str.split('/');
    return new Date(mdy[2], mdy[0]-1, mdy[1]);
    alert(mdy);
}

function daydiff(first, second) {
    return (second-first)/(1000*60*60*24);
}

});
</script>