<h1>Leave Form</h1>
<div class="row">
	<div class="col-md-5 ">
	</div>
  	<div class="col-md-7 ">
		<%= form_for @leave do |f| %>
		<%= render 'leaves/error_message', object: f.object %>
			<%= f.label :from_date %>
			<%= f.text_field :from_date, class: 'datepicker', id: 'first' %><br />
		    <%= f.label :to_date %>
		    <%= f.text_field :to_date, class: 'datepicker', id: 'second'%>
		    <br/>
		    <%= f.label :no_of_days %>
		    <%= f.text_field :no_of_days,  id: 'btn', class: "box" %> 
		    <%= content_tag :div do %>
	     	<%= f.label :type_of_leave %>
	      	<%= f.select :type_of_leave, ["Sick Leave", "Planned Leave" ,"Casual Leave"],:prompt=>"select", id: "dropdown" , class: "box" %>
	      	<% end %>
	        <%= f.label :reason %>
		    <%= f.text_field :reason %><br />
		    <%= f.submit "Save", class: "btn btn-primary", id:"sign", class: "box1" %>
		<% end %>
   	<%= link_to 'Applied Leave', leaves_path, class: "link" %>
	</div>
</div>
<script type="text/javascript">
$(document).ready( function() {
  $('.datepicker').datepicker({
  	
  });

$("#btn").mouseenter(function(){
	var a = (daydiff(parseDate($('#first').val()), parseDate($('#second').val())));
	$("#btn").val(a);
}); 
    
    function parseDate(str) {
    var mdy = str.split('/');
    return new Date(mdy[2], mdy[0]-1, mdy[1]);
    alert(mdy);
}

function daydiff(first, second) {
    return (second-first)/(1000*60*60*24);
}

});
</script>